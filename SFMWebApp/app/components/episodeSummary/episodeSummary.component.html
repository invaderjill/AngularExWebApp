<div class="sfm-episode-summary row" *ngIf="episodeSummary && episodeSummary.episodeUID">
    <accordion [closeOthers]="false">
        <accordion-group #group [isOpen]="isFirstOpen" [headingClass]="headingClass">
            <div accordion-heading>
                <span class="h3">
                    Episode Summary
                </span>&nbsp;&nbsp;
                <span class="badge">3</span>
                <div class="pull-right">
                    <i class="fa fa-print fa-2x"></i>
                    &nbsp;&nbsp;&nbsp;
                    <i class="fa fa-upload fa-2x"></i>
                    &nbsp;&nbsp;&nbsp;
                    <div class="btn-group">
                        <i class="fa fa-ellipsis-h fa-2x" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></i>
                        <ul class="dropdown-menu">
                            <li>
                                <a (click)="EpisodeSupplementalClick()">Episode Supplemental</a>
                            </li>
                        </ul>
                    </div>
                    <span class="sfm-divider">
                        &nbsp;&nbsp;|&nbsp;
                    </span>
                    <span class="small">Balance</span>
                    <span class="h3">
                        &nbsp;&nbsp;{{currentBalance | currency:'USD':true:'1.2-2'}}
                    </span>
                    <span class="sfm-divider">
                        &nbsp;|&nbsp;
                    </span>
                    <a href='' role="button" aria-expanded="true"><i class="fa fa-2x" [ngClass]="{'fa-angle-down' : group?.isOpen, 'fa-angle-right' : !group?.isOpen }"></i></a>
                </div>
            </div>
            <div class="row sfm-episode-sum-details">
                <div class="col-md-5">
                    <div class="row clearfix" *ngIf="episodeSummary.insurancePlanNames && episodeSummary.insurancePlanNames.length > 0">
                        <div class="col-xs-4">
                            <span class="small">
                                Primary Insurance
                            </span><br />
                            <span class="sfm-episode-sum-insurance" *ngIf="episodeSummary.insurancePlanNames[0]">
                                {{episodeSummary.insurancePlanNames[0]}}
                            </span>
                        </div>
                        <div class="col-xs-4">
                            <span class="small">
                                Secondary Insurance
                            </span><br />
                            <span class="sfm-episode-sum-insurance" *ngIf="episodeSummary.insurancePlanNames[1]">
                                {{episodeSummary.insurancePlanNames[1]}}
                            </span>
                        </div>
                        <div class="col-xs-4">
                            <span class="small">
                                Tertiary Insurance
                            </span><br />
                            <span class="sfm-episode-sum-insurance" *ngIf="episodeSummary.insurancePlanNames[2]">
                                {{episodeSummary.insurancePlanNames[2]}}
                            </span>
                        </div>
                    </div>
                    <div class="row clearfix" *ngIf="!episodeSummary.insurancePlanNames || episodeSummary.insurancePlanNames.length < 1">
                        <div class="col-xs-8">
                            <span class="small">
                                No Insurance Information Available
                            </span>
                        </div>
                        <div class="col-xs-4">

                        </div>
                    </div>
                </div>
                <div class="col-md-7">
                    <div class="row clearfix">
                        <div class="col-xs-4">
                            <span class="small">
                                Referring Provider
                            </span><br />
                            <span class="sfm-episode-sum-dr" *ngIf="episodeSummary.visitReferProvider">
                                {{episodeSummary.visitReferProvider | uppercase}}
                            </span>
                        </div>
                        <div class="col-xs-4">
                            <span class="small">
                                Admitting Provider
                            </span><br />
                            <span class="sfm-episode-sum-dr" *ngIf="episodeSummary.visitAdmitProvider">
                                {{episodeSummary.visitAdmitProvider | uppercase}}
                            </span>
                        </div>
                        <div class="col-xs-4">
                            <span class="small">
                                Attending Provider
                            </span><br />
                            <span class="sfm-episode-sum-dr" *ngIf="episodeSummary.visitAttendProvider">
                                {{episodeSummary.visitAttendProvider | uppercase}}
                            </span>

                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-9">
                    <sfm-comments></sfm-comments>
                    <sfm-transactions></sfm-transactions>
                </div><!--col md 9-->
                <div class="col-md-3">
                    <div class="row">
                        <sfm-episodeFS></sfm-episodeFS>
                    </div>
                </div><!--colmd3-->
            </div><!--row-->
        </accordion-group>
        <accordion-group #group *ngIf="episodeSummary" [headingClass]="headingClass" (click)="LoadUnbilledDetails()">
            <div accordion-heading>
                <span class="h3">
                    Unbilled
                </span>&nbsp;&nbsp;
                <span class="badge"></span>
                <div class="pull-right">
                    <i class="fa fa-ellipsis-h fa-2x"></i>
                    <span class="sfm-divider">
                        &nbsp;&nbsp;|&nbsp;
                    </span>
                    <span class="small">Amount</span>
                    <span class="h3">
                        &nbsp;&nbsp;{{episodeSummary.unbilled | currency:'USD':true:'1.2-2'}}
                    </span>
                    <span class="sfm-divider">
                        &nbsp;|&nbsp;
                    </span>
                    <a href='' role="button" aria-expanded="true"><i class="fa fa-2x" [ngClass]="{'fa-angle-down' : group?.isOpen, 'fa-angle-right' : !group?.isOpen }"></i></a>
                </div>
            </div>
            <div class="row">
                <div class="col-md-9">
                    <sfm-transactionV2></sfm-transactionV2>
                </div><!--col md 9-->
            </div><!--row-->
        </accordion-group>
        <accordion-group #group *ngIf="episodeSummary" [headingClass]="headingClass">
            <div accordion-heading>
                <span class="h3">
                    Claims
                </span>&nbsp;&nbsp;
                <span class="badge">3</span>
                <span class="pull-right">
                    <i class="fa fa-ellipsis-h fa-2x"></i>
                    <span class="sfm-divider">
                        &nbsp;&nbsp;|&nbsp;
                    </span>
                    <span class="small">Total Charges</span>
                    <span class="h3">
                        &nbsp;&nbsp;{{episodeSummary.totalCharges | currency:'USD':true:'1.2-2'}}&nbsp;&nbsp;
                    </span>
                    <span class="small">Balance</span>
                    <span class="h3">
                        &nbsp;&nbsp;{{episodeSummary.claims | currency:'USD':true:'1.2-2'}}
                    </span>
                    <span class="sfm-divider">
                        &nbsp;|&nbsp;
                    </span>
                    <a href='' role="button" aria-expanded="true"><i class="fa fa-2x" [ngClass]="{'fa-angle-down' : group?.isOpen, 'fa-angle-right' : !group?.isOpen }"></i></a>
                </span>
            </div>
            Body
        </accordion-group>
        <accordion-group #group *ngIf="episodeSummary" [headingClass]="headingClass">
            <div accordion-heading>
                <span class="h3">
                    Statements
                </span>&nbsp;&nbsp;
                <span class="badge"></span>
                <span class="pull-right">
                    <!--<i class="fa fa-ellipsis-h fa-2x"></i>-->
                    <span class="sfm-divider">
                        &nbsp;&nbsp;|&nbsp;
                    </span>
                    <span class="small">Amount</span>
                    <span class="h3">
                        &nbsp;&nbsp;{{episodeSummary.selfP | currency:'USD':true:'1.2-2'}}
                    </span>
                    <span class="sfm-divider">
                        &nbsp;|&nbsp;
                    </span>
                    <a href='' role="button" aria-expanded="true"><i class="fa fa-2x" [ngClass]="{'fa-angle-down' : group?.isOpen, 'fa-angle-right' : !group?.isOpen }"></i></a>
                </span>
            </div>
            Body
        </accordion-group>
        <accordion-group #group *ngIf="episodeSummary" [headingClass]="headingClass">
            <div accordion-heading>
                <span class="h3">
                    Unallocated
                </span>&nbsp;&nbsp;
                <span class="badge"></span>
                <span class="pull-right">
                    <i class="fa fa-ellipsis-h fa-2x"></i>
                    <span class="sfm-divider">
                        &nbsp;&nbsp;|&nbsp;
                    </span>
                    <span class="small">Amount</span>
                    <span class="h3">
                        &nbsp;&nbsp;{{episodeSummary.unAllocated | currency:'USD':true:'1.2-2'}}
                    </span>
                    <span class="sfm-divider">
                        &nbsp;|&nbsp;
                    </span>
                    <a href='' role="button" aria-expanded="true"><i class="fa fa-2x" [ngClass]="{'fa-angle-down' : group?.isOpen, 'fa-angle-right' : !group?.isOpen }"></i></a>
                </span>
            </div>
            Body
        </accordion-group>
    </accordion>
</div>
